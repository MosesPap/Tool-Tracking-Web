<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Tools - Tool Tracking System</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Shared CSS -->
    <link rel="stylesheet" href="css/common.css">
    
    <style>
        /* My Tools specific styles */
        body, html {
            margin: 0;
            padding: 0;
        }
        /* Include other essential styles from index.html */
    </style>
</head>
<body>
    <!-- My Tools Screen -->
    <div id="appSection">
        <div class="container py-4">
            <button id="backToMenuBtn" class="mytools-back" onclick="window.location.href='menu.html'">
                <i class="fas fa-arrow-left"></i> Back to Menu
            </button>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
                <h2 class="mytools-title" style="margin:0;">MY TOOLS</h2>
                <div style="display:flex;gap:8px;">
                    <button id="editMyToolsBtn" style="background:#2196F3;color:white;border:none;border-radius:16px;padding:8px 16px;font-size:0.9rem;font-weight:bold;cursor:pointer;">Edit My Tools</button>
                    <button id="myToolsAddCollectionPhotoBtn" style="background:#4CAF50;color:white;border:none;border-radius:16px;padding:8px 16px;font-size:0.9rem;font-weight:bold;cursor:pointer;"><i class="fas fa-camera"></i> Add Collection Photo</button>
                    <button id="myToolsCollectionPhotosBtn" style="background:#9C27B0;color:white;border:none;border-radius:16px;padding:8px 16px;font-size:0.9rem;font-weight:bold;cursor:pointer;"><i class="fas fa-images"></i> Collection Photos</button>
                </div>
            </div>
            <div id="myToolsScreenBody"></div>
        </div>
    </div>

    <!-- Edit My Tools Screen (hidden by default) -->
    <div id="editMyToolsScreen" style="display:none;">
        <div class="container py-4">
            <div style="background:#FF9800;color:white;font-weight:bold;font-size:1.3rem;padding:12px 16px;border-radius:8px 8px 0 0;">Edit My Tools</div>
            <div style="display:flex;gap:8px;margin:16px 0;align-items:center;">
                <input id="editMyToolsSearch" type="text" placeholder="Search or scan tool..." style="flex:1;padding:8px 12px;font-size:1.1rem;border-radius:6px;border:1px solid #ccc;">
                <button id="editMyToolsSearchBtn" style="background:#2196F3;color:white;border:none;border-radius:6px;padding:8px 16px;font-size:1rem;font-weight:bold;cursor:pointer;">Search</button>
            </div>
            <button id="editMyToolsBackBtn" class="mytools-back"><i class="fas fa-arrow-left"></i> Back</button>
            <div id="editMyToolsResults"></div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Shared JS Files -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/navigation.js"></script>
    
    <!-- My Tools Specific JS -->
    <script src="js/my-tools.js"></script>
    
    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            auth.onAuthStateChanged(function(user) {
                if (!user) {
                    window.location.href = 'index.html';
                } else {
                    // User is logged in, initialize page
                    updateLoggedInTechnician();
                    // Initialize my tools functionality
                    initializeMyTools();
                }
            });
        });
    </script>
</body>
</html>

